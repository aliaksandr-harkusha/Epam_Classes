Готово
Не совсем уверен что правильно разделил логику и классы объектов...
